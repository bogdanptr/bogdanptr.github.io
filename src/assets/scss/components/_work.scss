/*
Project presentation
*/

.project {
  grid-column: 2/7;
  margin-bottom: 4rem;

  &-2 {
    grid-column: 5/9;
  }

  &__img {
    display: block;
    position: relative;
    overflow: hidden;

    img,
    video {
      transition: .2s ease-in;
    }

    &::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 100%;
      background-image: linear-gradient(to right, black, transparent);
    }

    &::after {
      content: "View project";
      position: absolute;
      width: 100%;
      color: #fff;
      font-weight: 400;
      font-size: 80%;
      text-transform: lowercase;
      letter-spacing: 2px;
      left: 2rem;
      top: 50%;
      transform: translateY(-50%);
    }

    &::before,
    &::after {
      transition: .2s ease-in;
      opacity: 0;
      z-index: 2;
    }

    &:hover {

      &::before {
        opacity: .7;
      }
      &::after {
        opacity: 1;
      }

      img,
      video {
        transform: scale(1.07);
      }
    }
  }
  &__info {
    grid-column: span 2;
    align-self: center;
  }
}

// .project {
//   display: flex;
//   height: 100vh;
//   background-color: #111;
//   background-image: linear-gradient(to top, #51595C, #5A6468);

//   &:not(:last-of-type) {
//     margin-bottom: 5rem;
//   }

//   &__details {
//     width: 40%;
//     padding-left: 4rem;
//     padding-top: 4rem;
//     color: #fff;
//   }

//   &__image {
//     width: 50%;
//     margin-left: auto;
//     height: 95%;
//     background-color: #D7D7D7;
//     position: relative;
//     top: -4rem;
//     background-image: url(/assets/img/awr-overview2.png);
//     background-size: cover;
//     background-repeat: no-repeat;
//   }

//   &__btn {
//     position: relative;
//     display: block;
//     color: #fff;
//     text-decoration: none;
//     font-weight: 400;
//     padding: .5rem .5rem .5rem 0;

//     span {
//       margin-left: 1rem;
//       vertical-align: middle;
//     }

//     svg .circle {
//       stroke-dasharray: 40%;
//       stroke-dashoffset: 30px;
//       opacity: .3;
//       transition: 1s ease-in;
//     }

//     &:hover {
//       svg .circle {
//         stroke-dasharray: 0;
//         stroke-dashoffset: 150px;
//         opacity: 1;
//       }
//     }
//   }
// }

#dribbbleShots {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap: 2rem;
}

.section-scroller {
  position: absolute;
  top: -2rem;
  z-index: -1;
  height: 100%;
  width: 100%;

  &::before {
    content: attr(data-section);
    position: absolute;
    top: -1.1rem;
    background-color: #fff;
    padding: .5rem;
    padding-left: 0;
    font-size: .8rem;
    font-weight: bold;
    z-index: 2;
  }

  span {
    overflow: hidden;
    position: absolute;
    top: 0;
    height: 2px;
    width: 100%;
    background-color: rgba(0,0,0,.1);

    &::before {
      content: "";
      position: absolute;
      top: 0;
      height: 2px;
      width: 50px;
      background-color: map-get($color, black);
      animation: scroller 2s cubic-bezier(.7, .2, 0.3, 1) infinite;
    }
  }
}

@keyframes scroller {
  0% { left: 0;}
  100% { left: 100%;} // bar hardcoded height
}

// Media breakpoints
@media screen and (min-width: 769px) {

  // Scroller
  .section-scroller {
    top: 2rem;

    &::before {
      writing-mode: vertical-lr;
      top: 0;
      padding: .5rem 0;
    }

    span {
      overflow: hidden;
      position: absolute;
      top: 0;
      height: 400px;
      width: 2px;
      background-color: rgba(0,0,0,.1);

      &::before {
        content: "";
        position: absolute;
        left: 0;
        top: 8rem;
        height: 50px;
        width: 2px;
      }
    }

    &--right {
      &::before {
        right: -3.6rem;
      }

      span {
        right: -3rem;
      }
    }

    &--left {
      &::before {
        left: -3.4rem;
      }

      span {
        left: -3rem;
      }
    }
  }

  @keyframes scroller {
    0% { top: 0;}
    100% { top: 100%;} // bar hardcoded height
  }

  // // Dribbble shots
  // #dribbbleShots {
  //   grid-template-columns: 1fr 1fr;
  // }

  .dribbble-shot {
    will-change: transition;
    transition: .3s ease-in-out;

    &:hover {
      transform: scale(.95);
    }

    &:nth-child(odd) {
      margin-top: 5rem;
      margin-bottom: -5rem;
    }
  }
}